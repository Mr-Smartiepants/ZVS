{% extends "base_admin.html" %}

{% block page_title %}Aktions-Log - Admin Panel{% endblock %}
{% block page_header %}Aktions-Log{% endblock %}

{% block content %}
<div class="bg-white rounded-xl shadow overflow-hidden">
    <div class="overflow-x-auto">
        <table class="table-auto w-full text-sm">
            <thead>
                <tr class="bg-blue-100">
                    <th class="px-4 py-2 text-left">Zeitpunkt</th>
                    <th class="px-4 py-2 text-left">Benutzer</th>
                    <th class="px-4 py-2 text-left">Aktion</th>
                </tr>
            </thead>
            <tbody>
                {% if aktionen %}
                    {% for eintrag in aktionen %}
                    <tr class="border-b hover:bg-gray-50">
                        <td class="px-4 py-2 font-mono text-xs">
                            {{ eintrag.zeitpunkt.strftime('%d.%m.%Y %H:%M:%S') if eintrag.zeitpunkt else '—' }}
                        </td>
                        <td class="px-4 py-2">
                            {{ eintrag.display_name if eintrag.display_name else 'unbekannt' }}
                        </td>
                        <td class="px-4 py-2">
                            {{ eintrag.aktion }}
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                <tr>
                    <td colspan="3" class="px-4 py-4 text-center text-gray-500">
                        Keine Einträge vorhanden
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<!-- Info Box -->
<div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700">
    <strong>Info:</strong> Das Aktions-Log zeigt die letzten Aktionen in der Anwendung in chronologischer Reihenfolge.
</div>
{% endblock %}
